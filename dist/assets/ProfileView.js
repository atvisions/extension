import{d as e,r as t,z as l,o as s,c as r,b as a,k as i,l as o,m as n,F as c,t as u,g as d,h as m,q as f,p as x}from"./main.js";import{c as g}from"./index.js";const b={class:"min-h-screen flex flex-col bg-[#0F172A] overflow-y-scroll"},p={class:"flex-1 pt-16 pb-16"},y={class:"max-w-[375px] mx-auto px-4"},v={key:0,class:"bg-gray-800 rounded-lg p-6 mb-6"},h={class:"text-center"},w={class:"bg-gray-800 rounded-lg p-6 mb-6"},j={class:"flex items-center space-x-4"},k={class:"w-16 h-16 rounded-full bg-gradient-to-r from-primary to-blue-500 flex items-center justify-center text-2xl font-bold overflow-hidden"},I={class:"flex-1"},S={class:"text-base font-semibold"},_={class:"text-gray-500 text-xs mt-1"},F={class:"fixed bottom-0 w-full bg-[#0F172A]/95 backdrop-blur-md border-t border-gray-800"},z={class:"max-w-[375px] mx-auto"},A={class:"grid grid-cols-2 h-16"},C=e({__name:"ProfileView",setup(e){const C=f(),N=t({id:0,email:"",created_at:"",updated_at:""}),q=l((()=>!!localStorage.getItem("token"))),D=e=>{if(!e)return"";return new Date(e).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})},J=()=>{localStorage.removeItem("token"),localStorage.removeItem("userInfo"),C.push("/login")};return s((()=>{(async()=>{if(q.value)try{const e=localStorage.getItem("userInfo");e&&(N.value=JSON.parse(e));const t=await g.get("/auth/profile/");"success"===(null==t?void 0:t.status)&&(null==t?void 0:t.data)&&(N.value=t.data,localStorage.setItem("userInfo",JSON.stringify(t.data)))}catch(e){console.error("获取用户信息失败:",e)}})()})),(e,t)=>{var l,s;const f=n("router-link");return x(),r("div",b,[t[8]||(t[8]=a("header",{class:"fixed top-0 w-full z-10 bg-[#0F172A]/95 backdrop-blur-md border-b border-gray-800"},[a("div",{class:"max-w-[375px] mx-auto"},[a("div",{class:"flex items-center h-12 px-4"},[a("h1",{class:"text-lg font-semibold"},"个人中心")])])],-1)),a("main",p,[a("div",y,[q.value?(x(),r(c,{key:1},[a("div",w,[a("div",j,[a("div",k,u((null==(s=null==(l=N.value.email)?void 0:l[0])?void 0:s.toUpperCase())||"U"),1),a("div",I,[a("h2",S,u(N.value.email),1),a("p",_,"注册时间: "+u(D(N.value.created_at)),1)])])]),a("div",{class:"space-y-4"},[t[5]||(t[5]=d('<button class="w-full py-3 bg-gray-800 text-white rounded-lg font-medium flex items-center justify-center"><i class="ri-settings-3-line mr-2"></i> 设置 </button><button class="w-full py-3 bg-gray-800 text-white rounded-lg font-medium flex items-center justify-center"><i class="ri-question-line mr-2"></i> 帮助与反馈 </button><button class="w-full py-3 bg-gray-800 text-white rounded-lg font-medium flex items-center justify-center"><i class="ri-information-line mr-2"></i> 关于我们 </button>',3)),a("button",{class:"w-full py-3 bg-red-500 text-white rounded-lg font-medium flex items-center justify-center",onClick:J},t[4]||(t[4]=[a("i",{class:"ri-logout-box-line mr-2"},null,-1),m(" 退出登录 ")]))])],64)):(x(),r("div",v,[a("div",h,[t[1]||(t[1]=a("div",{class:"w-20 h-20 rounded-full bg-gradient-to-r from-primary to-blue-500 flex items-center justify-center text-3xl font-bold mx-auto mb-4"},[a("i",{class:"ri-user-3-line"})],-1)),t[2]||(t[2]=a("h2",{class:"text-lg font-semibold mb-2"},"未登录",-1)),t[3]||(t[3]=a("p",{class:"text-gray-400 text-sm mb-4"},"登录后查看个人中心",-1)),i(f,{to:"/login",class:"inline-block py-2 px-6 bg-gradient-to-r from-primary to-blue-500 text-white rounded-lg font-medium"},{default:o((()=>t[0]||(t[0]=[m(" 立即登录 ")]))),_:1})])]))])]),a("nav",F,[a("div",z,[a("div",A,[i(f,{to:"/",class:"flex flex-col items-center justify-center text-gray-500"},{default:o((()=>t[6]||(t[6]=[a("i",{class:"ri-line-chart-line ri-lg w-6 h-6 flex items-center justify-center"},null,-1),a("span",{class:"text-xs mt-0.5"},"行情",-1)]))),_:1}),i(f,{to:"/profile",class:"flex flex-col items-center justify-center text-primary border-t-2 border-primary"},{default:o((()=>t[7]||(t[7]=[a("i",{class:"ri-user-3-line ri-lg w-6 h-6 flex items-center justify-center"},null,-1),a("span",{class:"text-xs mt-0.5"},"我的",-1)]))),_:1})])])])])}}});export{C as default};
